<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Reduce Me</title>

    <link href="https://fonts.googleapis.com/css?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header class="header">
    <div class="header__nav-toggle">
        <button class="nav-toggle">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
    <div class="header__content">
        <a href="/" class="header-item header-item--logo">
            <img src="images/logo.svg" alt="logo" class="header-item__logo">
            <span class="header-item__name">Reduce Me</span>
        </a>
        <div class="header-item header--item--balance">
            <svg class="icon">
                <use xlink:href="images/sprite.svg#balance"></use>
            </svg>
            <b class="header-item__label">Баланс: </b>
            <p class="header-item__value">
                <span class="delimiter">1000 <b class="currency">rub</b></span>1000 <b class="currency">usd</b>
            </p>
        </div>
        <nav class="header__nav header-item">
            <a href="#" class="header-nav-item">
                <svg class="icon">
                    <use xlink:href="images/sprite.svg#support"></use>
                </svg>
                <span class="header-item__label">Служба поддержки</span>
            </a>
            <div class="header-nav-item header-nav-item--list">
                <a href="#" class="header-item link-hover delimiter">
                    <svg class="icon">
                        <use xlink:href="images/sprite.svg#rus"></use>
                    </svg>
                    <span class="header-item__label">Рус</span>
                </a>
                <a href="#" class="header-item link-hover">
                    <svg class="icon">
                        <use xlink:href="images/sprite.svg#eng"></use>
                    </svg>
                    <span class="header-item__label">Eng</span>
                </a>
            </div>
            <a href="#" class="header-item header-nav-item">
                <svg class="icon">
                    <use xlink:href="images/sprite.svg#login"></use>
                </svg>
                <span class="header-item__label">Выход</span>
            </a>
        </nav>
    </div>
</header>

<main class="main">
    <div class="page page--background undefined">

</div>
</main>

</body>
</html>

<script>
    'use strict';

    const burger = document.body.querySelector('.nav-toggle');
    const changePassword = document.body.querySelector('#changePassword');
    const createLink = document.body.querySelector('#createLink');
    const form = document.body.querySelector('.links__create-link');
    const payoutsButton = document.body.querySelector('#payoutsButton');
    const messagesButton1 = document.body.querySelector('#messagesButton1');
    const messagesButton2 = document.body.querySelector('#messagesButton2');
    const historyTable = document.body.querySelector('.history__table');
    const historyButton = document.body.querySelector('#historyButton');

    burger.addEventListener('click', function () {
        burger.classList.toggle('active');

        const main = document.body.querySelector('.main-container');
        main.classList.toggle('main-container--opened');
    });

    if(changePassword) {
        changePassword.addEventListener('click', function () {
            const form = document.body.querySelector('.profile__password');
            form.classList.toggle('note--opened');
        });
    }

    if(createLink) {
        const form = document.body.querySelector('.links__create-link');
        const createButton = document.body.querySelector('#createButton');

        createLink.addEventListener('click', function () {
            form.classList.toggle('note--opened');

            createLink.style.display = "none";
        });

        if(createButton) {
            const crossButton = document.body.querySelector('#crossButton');
            const currentForm = document.body.querySelector('.links__created-link');

            createButton.addEventListener('click', function () {
                currentForm.classList.toggle('note--opened');

                form.style.display = "none";
            });

            if(crossButton) {
                crossButton.addEventListener('click', function () {
                    createLink.style.display = "flex";
                    currentForm.style.display = "none";
                });
            }
        }
    }

    if(payoutsButton) {
        const form = document.body.querySelector('.payouts__form');
        const note = document.body.querySelector('.payouts__note');

        payoutsButton.addEventListener('click', function () {
            note.classList.toggle('note--opened');
            form.style.display = "none";
        });

        const payoutsCloseButton = document.body.querySelector('#payoutsCloseButton');

        payoutsCloseButton.addEventListener('click', function () {
            note.classList.toggle('note--opened');
            form.style.display = "flex";
        });
    }

    messagesButton1.addEventListener('click', function () {
        const messages = document.body.querySelector('#messages1');
        messages.classList.toggle('table__row-messages--opened');
    });

    messagesButton2.addEventListener('click', function () {
        const messages = document.body.querySelector('#messages2');
        messages.classList.toggle('table__row-messages--opened');
    });

    historyButton.addEventListener('click', function () {
        const note = document.body.querySelector('.history__note');
        if(note) {
            note.style.display = "none";
        }

        const form = document.body.querySelector('.history__form');
        const historyCreateButton = document.body.querySelector('#historyCreateButton');

        historyTable.style.display = "none";
        form.style.display = "flex";

        historyCreateButton.addEventListener('click', function () {
            form.style.display = "none";
            note.style.display = "block";

            historyTable.style.display = "flex";
        });
    });
</script>